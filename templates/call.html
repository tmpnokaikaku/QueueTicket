<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ã‚¹ãƒãƒ›å¯¾å¿œã«å¿…é ˆ -->
    <title>å‘¼ã³å‡ºã—ç®¡ç†</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <style>
        /* ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« */
        body { font-family: sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        .header-nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .header-nav a { text-decoration: none; color: #333; font-weight: bold; background: #ddd; padding: 10px 15px; border-radius: 8px; }

        /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®è‚) */
        .grid-container {
            display: grid;
            gap: 15px;
            /* ç”»é¢å¹…ã«åˆã‚ã›ã¦åˆ—æ•°ã‚’è‡ªå‹•èª¿æ•´ (æœ€å°300pxå¹…ã‚’ç¢ºä¿) */
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        }

        /* ã‚«ãƒ¼ãƒ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .ticket-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.2s;
        }
        
        /* å‘¼ã³å‡ºã—ä¸­ã®ã‚«ãƒ¼ãƒ‰ã‚’ç›®ç«‹ãŸã›ã‚‹ */
        .ticket-card.called { border: 3px solid #ff9800; background: #fff8e1; }

        /* ã‚«ãƒ¼ãƒ‰å†…éƒ¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .card-header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 10px; }
        .ticket-number { font-size: 2.5rem; font-weight: bold; color: #333; }
        .group-size { font-size: 1.2rem; color: #666; background: #eee; padding: 2px 8px; border-radius: 4px; }
        
        .card-status { font-weight: bold; margin-bottom: 20px; text-align: center; padding: 5px; border-radius: 4px; }
        .waiting .card-status { color: #1976d2; background: #e3f2fd; }
        .called .card-status { color: #e65100; background: #ffe0b2; }

        /* ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆå¤§ããæŠ¼ã—ã‚„ã™ãï¼‰ */
        .card-actions form { width: 100%; }
        .btn {
            width: 100%;
            padding: 15px 0; /* é«˜ã•ã‚’ç¢ºä¿ */
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        .btn:active { transform: translateY(2px); box-shadow: none; }
        .btn-call { background: #2196F3; } /* é’è‰² */
        .btn-complete { background: #4CAF50; } /* ç·‘è‰² */

        /* é€šä¿¡çŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ */
        .htmx-indicator { display: none; margin-left: 10px; font-size: 0.8rem; color: #666; }
        .htmx-request .htmx-indicator { display: inline; } /* é€šä¿¡ä¸­ã«è¡¨ç¤º */
    </style>
</head>
<body>
    <div class="header-nav">
        <a href="/admin">â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼</a>
        <div>
            ğŸ“¢ å‘¼ã³å‡ºã—ç®¡ç†
            <span class="htmx-indicator">æ›´æ–°ä¸­...</span>
        </div>
    </div>

    <!-- 
        HTMXã‚³ãƒ³ãƒ†ãƒŠ 
        hx-get: ãƒªã‚¹ãƒˆéƒ¨å“ã‚’å–å¾—
        hx-trigger: èª­ã¿è¾¼ã¿æ™‚(load)ã¨ã€5ç§’ã”ã¨(every 5s)ã«å®Ÿè¡Œ
        hx-swap: ã“ã®divã®å†…å´(innerHTML)ã‚’æ›¸ãæ›ãˆã‚‹
    -->
    <div id="ticket-list" class="grid-container"
         hx-get="/admin/call/list"
         hx-trigger="load, every 5s"
         hx-swap="innerHTML">
        
        <!-- åˆå›ãƒ­ãƒ¼ãƒ‰ã¾ã§ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ -->
        <div style="grid-column: 1 / -1; text-align: center; padding: 20px;">
            èª­ã¿è¾¼ã¿ä¸­...
        </div>
    </div>

</body>
</html>
