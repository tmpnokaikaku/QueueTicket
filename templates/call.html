<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å‘¼ã³å‡ºã—ç®¡ç†</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
        table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        th, td { border: 1px solid #ddd; padding: 0.8rem; text-align: center; }
        th { background: #f4f4f4; }
        .status-waiting { background: #e3f2fd; color: #1565c0; font-weight: bold; }
        .status-called { background: #fff3e0; color: #e65100; font-weight: bold; }
        button { cursor: pointer; padding: 0.5rem 1rem; border: none; border-radius: 4px; color: white; }
        .btn-call { background: #FF9800; }
        .btn-complete { background: #4CAF50; }
    </style>
</head>
<body>
    <p><a href="/admin">â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</a></p>
    <h1>ğŸ“¢ å‘¼ã³å‡ºã—ç®¡ç†</h1>
    <p>ç¾åœ¨å¾…æ©Ÿä¸­ã¾ãŸã¯å‘¼ã³å‡ºã—ä¸­ã®ãƒã‚±ãƒƒãƒˆä¸€è¦§</p>
    <p><a href="/admin/call">ğŸ”„ ãƒªã‚¹ãƒˆã‚’æ›´æ–°</a></p>

    <table>
        <thead>
            <tr>
                <th>ç•ªå·</th>
                <th>äººæ•°</th>
                <th>çŠ¶æ…‹</th>
                <th>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>
            </tr>
        </thead>
        <tbody>
        {% for ticket in tickets %}
            <tr>
                <td style="font-size: 1.5rem;">{{ ticket.number }}</td>
                <td>{{ ticket.group_size }}å</td>
                <td>
                    {% if ticket.status == "waiting" %}
                        <span class="status-waiting">å¾…æ©Ÿä¸­</span>
                    {% else if ticket.status == "called" %}
                        <span class="status-called">å‘¼å‡ºä¸­</span>
                    {% endif %}
                </td>
                <td>
                    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ãƒ•ã‚©ãƒ¼ãƒ  -->
                    <form action="/admin/call/update" method="post" style="display:inline;">
                        <input type="hidden" name="id" value="{{ ticket.id }}">
                        
                        {% if ticket.status == "waiting" %}
                            <button type="submit" name="status" value="called" class="btn-call">å‘¼ã³å‡ºã™</button>
                        {% else if ticket.status == "called" %}
                            <button type="submit" name="status" value="completed" class="btn-complete">å®Œäº†(æ¡ˆå†…æ¸ˆ)</button>
                        {% endif %}
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
